---
title: [JS]节流和防抖
date: 2022-03-31 12:37:24
tags: 
  - JS基础
  - 面试
categories: JavaScript
copyright: true
comments: true
---
### 节流
```javascript
function throttled(fn, delay) {
  let timer = null
  let startTime = Date.now()
  return function(){
    let context = this
    let args = arguments
    let curentTime = Date.now()
    let remainTime = delay - (curentTime - startTime)
    clearTimeout(timer)
    if (remainTime <= 0) {
      fn.apply(context, args)
      startTime = Date.now()
    } else (
      timer = setTimeout(fn, remainTime)
    )
  }
}
```

### 防抖

```javascript
// 简单版本
function debounce(fn, wait) {
  let timer
  
  return function() {
    let context = this
    let args = arguments
    clearTimeout(timer)
    timer = setTimeout(() => {
      fn.apply(context, args)
    }, wait)
  }
}

```