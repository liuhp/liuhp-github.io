{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/logo-algolia-nebula-blue-full.svg","path":"images/logo-algolia-nebula-blue-full.svg","modified":0,"renderable":1},{"_id":"themes/next/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":0,"renderable":1},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/js/local-search.js","path":"js/local-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/motion.js","path":"js/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/schedule.js","path":"js/schedule.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/next-boot.js","path":"js/next-boot.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/bookmark.js","path":"js/bookmark.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/algolia-search.js","path":"js/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/Alipay.jpeg","path":"images/Alipay.jpeg","modified":0,"renderable":1},{"_id":"themes/next/source/images/author.png","path":"images/author.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/WechatPay.jpeg","path":"images/WechatPay.jpeg","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/love.js","path":"js/src/love.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/particle.js","path":"js/src/particle.js","modified":0,"renderable":1},{"_id":"source/README.MDOWN","path":"README.MDOWN","modified":1,"renderable":0}],"Cache":[{"_id":"source/_posts/Promise.md","hash":"a6c59462a75cfed0a3c8c59f8aa5dd481940340a","modified":1614223538098},{"_id":"source/_posts/hello-world.md","hash":"f5dfa2ca9c180fc59af6b48dafefa1be67cc1ff8","modified":1614223538098},{"_id":"themes/next/.github/ISSUE_TEMPLATE/bug-report.md","hash":"fc4dce84ed9a5d21d3a8833ff6d776c46f876115","modified":1614223658793},{"_id":"themes/next/.github/ISSUE_TEMPLATE/feature-request.md","hash":"4ecac91716eac59d7c2bc53cf6e95612d44da97b","modified":1614223658795},{"_id":"themes/next/.github/ISSUE_TEMPLATE/config.yml","hash":"c40ae7903b6cc99f94c9d45ac7ba8c2850bb1309","modified":1614223658794},{"_id":"themes/next/.github/ISSUE_TEMPLATE/other.md","hash":"8cc5b5c116f6a052865a324512362f145d699202","modified":1614223658797},{"_id":"themes/next/.github/workflows/label-commenter.yml","hash":"a33cd7c7644c8e89c885545ddafc437274ff64ff","modified":1614223658810},{"_id":"themes/next/.github/workflows/labeler.yml","hash":"8b73c439dc796be141d521a4546bcfb7a5485534","modified":1614223658812},{"_id":"themes/next/.github/workflows/lock.yml","hash":"70bd0be3f33774e4b0ada3a59c901f8f9cff1013","modified":1614223658815},{"_id":"themes/next/.github/workflows/linter.yml","hash":"a3019edd2185c4c287a682fdd76043e107ed927b","modified":1614223658813},{"_id":"themes/next/.github/workflows/stale.yml","hash":"e1d9cc9addc35cfb53f971f14d9d04065c941df0","modified":1614223658820},{"_id":"themes/next/.github/workflows/release-drafter.yml","hash":"4f3af81009cb922be91f718a67425377515ea69d","modified":1614223658817},{"_id":"themes/next/.github/workflows/tester.yml","hash":"22aaaa3eba1a7ebcf0f78417fd9a7113ee7b6c6c","modified":1614223658821},{"_id":"themes/next/docs/ru/README.md","hash":"63df0665005063108e1bc19df3cf8c4e46facb95","modified":1614223658848},{"_id":"themes/next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"7a06d443f374bd1e84294067a0ac796afd9fbe60","modified":1614223658851},{"_id":"themes/next/docs/zh-CN/CONTRIBUTING.md","hash":"8ee5ca39ac4a372a5c0f16e344bbe578af4aeae4","modified":1614223658853},{"_id":"themes/next/docs/zh-CN/README.md","hash":"9abd8473985f2bf1557b1aac31b436c92d5450a7","modified":1614223658855},{"_id":"themes/next/languages/README.md","hash":"b2567e32805dda79601157351a07e5ca9fe01315","modified":1614223658858},{"_id":"themes/next/languages/ar.yml","hash":"7a62243ec54196e3d1bea7364f05aded490bc234","modified":1614223658859},{"_id":"themes/next/languages/de.yml","hash":"dc448f724c7d436233e9567711a09e0d56e60e3b","modified":1614223658861},{"_id":"themes/next/languages/default.yml","hash":"48a76170d70ef7c1fac96720bc5064b43061708d","modified":1614223658863},{"_id":"themes/next/languages/en.yml","hash":"48a76170d70ef7c1fac96720bc5064b43061708d","modified":1614223658864},{"_id":"themes/next/languages/es.yml","hash":"c3506dfaa771e827ae6adb322477c6e835cd0f09","modified":1614223658866},{"_id":"themes/next/languages/fa.yml","hash":"649823297167b902455c0aec8ddebb462df71c7d","modified":1614223658868},{"_id":"themes/next/languages/fr.yml","hash":"8ddfe98e7847ee8f1eaba9119f9fbdc42d7ec120","modified":1614223658870},{"_id":"themes/next/languages/id.yml","hash":"ac018805190bc4bdc06091f5a6444e612fc700b0","modified":1614223658872},{"_id":"themes/next/languages/it.yml","hash":"82a93c32b3fcf6517441cdc73f75bc6173beb392","modified":1614223658874},{"_id":"themes/next/languages/ja.yml","hash":"99f6f84f5cb6631b7ae0b5594af2ea2940c3558e","modified":1614223658875},{"_id":"themes/next/languages/ko.yml","hash":"8342df2f4190ba4ee004b70d1d6ccd341033dbe7","modified":1614223658878},{"_id":"themes/next/languages/nl.yml","hash":"0d3b56613197cb190900311507535db41daec7d4","modified":1614223658880},{"_id":"themes/next/languages/pt-BR.yml","hash":"47daeaa23c4db073e77761c9a6f62d3932af06ec","modified":1614223658882},{"_id":"themes/next/languages/pt.yml","hash":"e0e2675261e2e80f7ce7d19c945c08217b068d81","modified":1614223658884},{"_id":"themes/next/languages/ru.yml","hash":"fdf5c623890db24cb56ab5ffe0c49db3542477c8","modified":1614223658887},{"_id":"themes/next/languages/si.yml","hash":"0afecef3d81b880cc19769062968d8562a1cd93b","modified":1614223658889},{"_id":"themes/next/languages/tr.yml","hash":"54de3d8d85e3c7b14b163c3d322411b7301a09b3","modified":1614223658892},{"_id":"themes/next/languages/uk.yml","hash":"1c9a0b8d8160c77cc62064207d57f460f365cae9","modified":1614223658894},{"_id":"themes/next/languages/vi.yml","hash":"1f9657b58e11db21f93eb895c90123b8f91751a7","modified":1614223658897},{"_id":"themes/next/languages/zh-CN.yml","hash":"6f7c742316c96d5b71da50fddfb060ff7ec1ea99","modified":1614223658900},{"_id":"themes/next/languages/zh-TW.yml","hash":"8d6f8d90aedcc5c844da93e196bfde0c0161385b","modified":1614223658905},{"_id":"themes/next/languages/zh-HK.yml","hash":"38b99be8cea1cfd79f36deca13be665dedfad9c5","modified":1614223658902},{"_id":"themes/next/layout/_macro/post-collapse.njk","hash":"1a30d751871dabfa80940042ddb1f77d07d830b9","modified":1614223658913},{"_id":"themes/next/layout/_macro/post.njk","hash":"16a3b8b81b38a206b260bd7795f401c73803b8a6","modified":1614224200184},{"_id":"themes/next/layout/_macro/sidebar.njk","hash":"cbf838ca59646f128c9111bb28921c1d04d8dcaf","modified":1614223658919},{"_id":"themes/next/layout/_partials/head/head-unique.njk","hash":"37bdf020591feb0cf72327c9efd755bf78a0afd6","modified":1614223658930},{"_id":"themes/next/layout/_partials/head/head.njk","hash":"8f6521714044676e15d924da387b2aef45fc8fe6","modified":1614223658933},{"_id":"themes/next/layout/_partials/header/brand.njk","hash":"ffb6c69a9c90793cbe9bf0544b55f7a41c016d8f","modified":1614223658936},{"_id":"themes/next/layout/_partials/header/index.njk","hash":"53895b3af95667edc5bf5d7356f8a2b4fe091447","modified":1614223658939},{"_id":"themes/next/layout/_partials/header/menu-item.njk","hash":"b46f412c0b4f775fd329d50357f722f5d7c1a3ba","modified":1614223658942},{"_id":"themes/next/layout/_partials/header/menu.njk","hash":"c9390824b57f23b7c8a5c23a9834514123673766","modified":1614223658945},{"_id":"themes/next/layout/_partials/header/sub-menu.njk","hash":"75a158a5b54a3a76ee6590f5e0e2dd4a9f0be869","modified":1614223658948},{"_id":"themes/next/layout/_partials/page/breadcrumb.njk","hash":"edb3bb6d644b7407673c5ef3a426a244e98fcf89","modified":1614223658955},{"_id":"themes/next/layout/_partials/page/categories.njk","hash":"17156d99941f28a225951ffdcfa9a115e20dc2d2","modified":1614223658957},{"_id":"themes/next/layout/_partials/page/page-header.njk","hash":"7ed4f102a1825195cff8d7995bf9219f323a9034","modified":1614223658960},{"_id":"themes/next/layout/_partials/page/schedule.njk","hash":"9d650333160ad1977fe42d9770869ff1660a95fe","modified":1614223658962},{"_id":"themes/next/layout/_partials/page/tags.njk","hash":"a18d1598e36cc72f2b0b24c3cc3c5990dfaa3254","modified":1614223658964},{"_id":"themes/next/.github/.DS_Store","hash":"0da6306bda0fba040401168a94ef406c16a576ce","modified":1614223658786},{"_id":"themes/next/.github/CODE_OF_CONDUCT.md","hash":"21cbff565a0445d3a880fff1ee417e309740a9ab","modified":1614223658788},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"3e9fbb78e3dee0ca1dc886d0c28b0148ba0ca499","modified":1614223658799},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"eefd073dfb68884cd946f7ec6d3b3619031d7650","modified":1614223658791},{"_id":"themes/next/.github/config.yml","hash":"7984e665e9de481a0e0e51fca5668337713f810b","modified":1614223658802},{"_id":"themes/next/.github/labeler.yml","hash":"e7033752b1f7c35adb61c2b38aad0a9202cdd19b","modified":1614223658807},{"_id":"themes/next/.github/label-commenter-config.yml","hash":"1097fc47beeacfc1edb0248c27b17bf64bde3565","modified":1614223658805},{"_id":"themes/next/.github/issue_label_bot.yaml","hash":"fca600ddef6f80c5e61aeed21722d191e5606e5b","modified":1614223658803},{"_id":"themes/next/.github/release-drafter.yml","hash":"7662e31224a24154c4fe06b95ccbdff51ab8f2cc","modified":1614223658808},{"_id":"themes/next/layout/_partials/post/post-footer.njk","hash":"8f14f3f8a1b2998d5114cc56b680fb5c419a6b07","modified":1614223658976},{"_id":"themes/next/layout/_partials/post/post-copyright.njk","hash":"133942922e34abae9e4de7ea5591d77c0caa4b37","modified":1614223658971},{"_id":"themes/next/layout/_partials/post/post-followme.njk","hash":"154df0bb323c332d8c25343f258ee865e5553423","modified":1614223658973},{"_id":"themes/next/layout/_partials/post/post-reward.njk","hash":"a9bb52d0537d27cfe670d80e716da6780786ab8a","modified":1614223658984},{"_id":"themes/next/layout/_partials/post/post-related.njk","hash":"f79c44692451db26efce704813f7a8872b7e63a0","modified":1614223658981},{"_id":"themes/next/layout/_partials/post/post-meta.njk","hash":"1410fad73e0a08a45166e4a055ba150fd06e8636","modified":1614223658978},{"_id":"themes/next/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1614223658841},{"_id":"themes/next/docs/AUTHORS.md","hash":"a648823121563c34a177ae91f5a774b5e29f01a0","modified":1614223658843},{"_id":"themes/next/docs/LICENSE.txt","hash":"f5b14f791b7cfa1d16da981d929152e088a5d1b8","modified":1614223658845},{"_id":"themes/next/layout/_partials/comments.njk","hash":"334e8d8117a46c8c097788811322a62627952219","modified":1614223658923},{"_id":"themes/next/layout/_partials/footer.njk","hash":"d16fdaf94d66efc0242b0c26ed539017e3b4f795","modified":1614223658926},{"_id":"themes/next/layout/_partials/languages.njk","hash":"ba9e272f1065b8f0e8848648caa7dea3f02c6be1","modified":1614223658950},{"_id":"themes/next/layout/_partials/pagination.njk","hash":"9876dbfc15713c7a47d4bcaa301f4757bd978269","modified":1614223658967},{"_id":"themes/next/layout/_partials/widgets.njk","hash":"dfd91d64ebc06b5b139ee97424f4f93e66938e34","modified":1614223658998},{"_id":"themes/next/layout/_partials/search/index.njk","hash":"8f6f256ab3b351ffc80f1f3f1d9834e9a7cfac31","modified":1614223658990},{"_id":"themes/next/layout/_partials/search/algolia-search.njk","hash":"efb2b6f19df02ba5ae623a1f274fff52aed21e6f","modified":1614223658987},{"_id":"themes/next/layout/_partials/sidebar/site-overview.njk","hash":"c419158e19805e2db614a5f5651e3e534e4a5e4e","modified":1614223658996},{"_id":"themes/next/layout/_partials/search/localsearch.njk","hash":"661f7acae43f0be694266323320f977d84119abe","modified":1614223658992},{"_id":"themes/next/layout/_scripts/index.njk","hash":"6f0433940680c0f9db37542ca36f76e4bb1c1d50","modified":1614223659002},{"_id":"themes/next/layout/_scripts/noscript.njk","hash":"4f250d0bf80be06dd2c95c1d4c2ba2624b59cf2a","modified":1614223659004},{"_id":"themes/next/layout/_scripts/vendors.njk","hash":"bada07da2a47ed6de6081796367b19dd9e906cfb","modified":1614223659009},{"_id":"themes/next/layout/_scripts/pjax.njk","hash":"28a3bcb1ce50924a5a48b0f3756ac3a8736867f1","modified":1614223659006},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.njk","hash":"4790058691b7d36cf6d2d6b4e93795a7b8d608ad","modified":1614223659014},{"_id":"themes/next/layout/_third-party/analytics/cloudflare.njk","hash":"c978e9efd472c4825f93b83524b11f1c4f7efaab","modified":1614223659017},{"_id":"themes/next/layout/_third-party/analytics/growingio.njk","hash":"5adea065641e8c55994dd2328ddae53215604928","modified":1614223659022},{"_id":"themes/next/layout/_third-party/analytics/index.njk","hash":"2d36a481a70d5f450f1f166dc556ac1218b18537","modified":1614223659024},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.njk","hash":"ad197fd728dd7ac90f910fdf80ce848eab3ff187","modified":1614223659019},{"_id":"themes/next/layout/_third-party/chat/tidio.njk","hash":"cba0e6e0fad08568a9e74ba9a5bee5341cfc04c1","modified":1614223659030},{"_id":"themes/next/layout/_third-party/chat/chatra.njk","hash":"f910618292c63871ca2e6c6e66c491f344fa7b1f","modified":1614223659027},{"_id":"themes/next/layout/_third-party/comments/changyan.njk","hash":"5c2cd9b6f02bcb6248d3f18638a58e329fe8c0d1","modified":1614223659034},{"_id":"themes/next/layout/_third-party/comments/disqus.njk","hash":"cc1450d62d76e59968bdd25836694b8339207384","modified":1614223659037},{"_id":"themes/next/layout/_third-party/comments/gitalk.njk","hash":"089e05126e7e4033eff90a26f946c419f2a1e87a","modified":1614223659043},{"_id":"themes/next/layout/_third-party/comments/disqusjs.njk","hash":"54eab4840443262432ec7c47e56e9859ace2a902","modified":1614223659040},{"_id":"themes/next/layout/_third-party/comments/livere.njk","hash":"6252b0353c6a36d03c68ebec1073293442221bd1","modified":1614223659048},{"_id":"themes/next/layout/_third-party/comments/isso.njk","hash":"c1bf0753fc4bc5f21d61eaffbcc915a462c7d830","modified":1614223659045},{"_id":"themes/next/layout/_third-party/comments/utterances.njk","hash":"7a07bbfb09ddf70b919f0ebe1b00942c96152389","modified":1614223659051},{"_id":"themes/next/layout/_third-party/math/katex.njk","hash":"b6746dfad32cc8a46ff8f4194a7a16ca41744803","modified":1614223659061},{"_id":"themes/next/layout/_third-party/math/mathjax.njk","hash":"f4fd63b9f9230dadd1190f79d59313751925ed90","modified":1614223659064},{"_id":"themes/next/layout/_third-party/math/index.njk","hash":"47a982aec8830c2f9711b2aff59ff83f09deb09e","modified":1614223659058},{"_id":"themes/next/layout/_layout.njk","hash":"9eae5c246032788bd15d89679a1c4d5dca5a80aa","modified":1614224111569},{"_id":"themes/next/layout/_third-party/nprogress.njk","hash":"271139c3896a6d294f46f767cb21b2e848050841","modified":1614223659089},{"_id":"themes/next/layout/_third-party/index.njk","hash":"467b45a4912369bcba77908151e76a3f3ad0fed2","modified":1614223659053},{"_id":"themes/next/.DS_Store","hash":"8db052c5dcf22e1ec33da72ae31302b80a464a9b","modified":1614223658775},{"_id":"themes/next/.editorconfig","hash":"8570735a8d8d034a3a175afd1dd40b39140b3e6a","modified":1614223658779},{"_id":"themes/next/LICENSE.md","hash":"68fc9a03d50fd4b5ea97092b05967d1819dea2c4","modified":1614223658826},{"_id":"themes/next/.eslintrc.json","hash":"9c0762486f24a8c5e60f8b6c875e4c4728942649","modified":1614223658782},{"_id":"themes/next/README.md","hash":"de109b73e09826f6bccceae60c618739a794f8f7","modified":1614223658829},{"_id":"themes/next/.gitattributes","hash":"ec43734985e1cafd53d88ded3020103f7416123c","modified":1614223658784},{"_id":"themes/next/_config.yml","hash":"c7567848664387a40d9aa693bb84e74bedc7a5e9","modified":1614224033786},{"_id":"themes/next/_vendors.yml","hash":"842505bac8e3174ca98c6c988fdd9d48bcbe6cf4","modified":1614223658835},{"_id":"themes/next/crowdin.yml","hash":"e026078448c77dcdd9ef50256bb6635a8f83dca6","modified":1614223658837},{"_id":"themes/next/.gitignore","hash":"4600f2b61b2fe0d61f824bda9aa2b5d072f0e635","modified":1614223658822},{"_id":"themes/next/.stylintrc","hash":"2cf4d637b56d8eb423f59656a11f6403aa90f550","modified":1614223658824},{"_id":"themes/next/layout/_third-party/quicklink.njk","hash":"294b7f6a4fa566e369d8be0ce7b28f35b6c14563","modified":1614223659094},{"_id":"themes/next/layout/_third-party/rating.njk","hash":"2731e262a6b88eaee2a3ca61e6a3583a7f594702","modified":1614223659096},{"_id":"themes/next/layout/_third-party/search/algolia-search.njk","hash":"97035261aa85c7d39c6ce1211cdefc6248c0446d","modified":1614223659099},{"_id":"themes/next/layout/_third-party/search/localsearch.njk","hash":"767b6c714c22588bcd26ba70b0fc19b6810cbacd","modified":1614223659102},{"_id":"themes/next/layout/_third-party/statistics/busuanzi-counter.njk","hash":"a4bc501da0f22f7e420f0ca47e83988ce90b1368","modified":1614223659106},{"_id":"themes/next/layout/_third-party/statistics/firestore.njk","hash":"0ff61346dc1327054ea2c211ba6fb654cdcdfd8d","modified":1614223659109},{"_id":"themes/next/layout/_third-party/statistics/index.njk","hash":"568ddf7955d11d93fb5e842b403a7ac8b1b7fdb1","modified":1614223659111},{"_id":"themes/next/layout/_third-party/statistics/lean-analytics.njk","hash":"811a3ad58c0a15550100bdc199bef8add1ad526c","modified":1614223659114},{"_id":"themes/next/layout/_third-party/tags/mermaid.njk","hash":"007da98b913a62946c03a87f8fa25b3db856caa1","modified":1614223659118},{"_id":"themes/next/layout/_third-party/tags/pdf.njk","hash":"b6241ebbb091ef18b3d06cba08ac2e04e3f67a7d","modified":1614223659121},{"_id":"themes/next/scripts/events/lib/config.js","hash":"09b58494e9d9d25542d1d218f2d0ffc4d2da9f30","modified":1614223659153},{"_id":"themes/next/scripts/events/lib/highlight.js","hash":"6aec7b2c38c50989a23bfaa0d560e75c7f553e12","modified":1614223659156},{"_id":"themes/next/scripts/events/lib/injects.js","hash":"7b0ea8d28ced63977dc6539920eb044b1098adcb","modified":1614223659159},{"_id":"themes/next/scripts/events/lib/utils.js","hash":"b281be775b693f9bf32766c8f6ef703c72ac9b00","modified":1614223659162},{"_id":"themes/next/scripts/events/lib/vendors.js","hash":"d1ecc44f9f6e236bf910e36150767d36be4658b2","modified":1614223659165},{"_id":"themes/next/scripts/filters/comment/changyan.js","hash":"ecc93ba67af26b6715fc75001fa0c3131b726241","modified":1614223659170},{"_id":"themes/next/scripts/filters/comment/common.js","hash":"2486f3e0150c753e5f3af1a3665d074704b8ee2c","modified":1614223659173},{"_id":"themes/next/scripts/filters/comment/default-config.js","hash":"93ee5f9109dad885dc38c49bcee630c10f9dce6e","modified":1614223659176},{"_id":"themes/next/scripts/filters/comment/disqus.js","hash":"cc1e2d5921c6990f94f3cf11b1ff7533a21da9b7","modified":1614223659179},{"_id":"themes/next/scripts/filters/comment/disqusjs.js","hash":"32a1d9ad50621a78d0243e176c8b05ff7866fd5b","modified":1614223659182},{"_id":"themes/next/scripts/filters/comment/gitalk.js","hash":"7c0533bac4400689a0d5ab3a188ce42b9375de46","modified":1614223659185},{"_id":"themes/next/scripts/filters/comment/isso.js","hash":"ff8b5b5145220a17d0ecd9508ba9bd2d3b2da47d","modified":1614223659187},{"_id":"themes/next/scripts/filters/comment/livere.js","hash":"60be56c9ba590e5bcb80d1607ca7eeedde9fdfaa","modified":1614223659190},{"_id":"themes/next/scripts/filters/comment/utterances.js","hash":"d3bded697bc32dace689d2a6dfb6eb7514169d15","modified":1614223659192},{"_id":"themes/next/scripts/events/index.js","hash":"89091bc943cd8b8c63b8af3d26fb0a027048e9ba","modified":1614223659149},{"_id":"themes/next/scripts/helpers/engine.js","hash":"0208f17281a1afe3da1298dd52350eb838098349","modified":1614223659207},{"_id":"themes/next/scripts/helpers/font.js","hash":"3394185a7f0393c16ce52c8028f90da3e9239c55","modified":1614223659254},{"_id":"themes/next/scripts/helpers/next-config.js","hash":"413c51fa3caa87fe95d1d8f95e6023f096515632","modified":1614223659311},{"_id":"themes/next/scripts/helpers/next-url.js","hash":"577c510374cf9bcfa8d3a1027e42411a9324805e","modified":1614223659323},{"_id":"themes/next/scripts/helpers/next-vendors.js","hash":"afdd6a188a74c188f0dd154fac70efd4080ca262","modified":1614223659352},{"_id":"themes/next/scripts/filters/default-injects.js","hash":"872f01cb10e422a648ea505436532e776e92926b","modified":1614223659195},{"_id":"themes/next/scripts/filters/locals.js","hash":"374c9211b3b6a5b2ad31f1bea69a22f2727f633a","modified":1614223659198},{"_id":"themes/next/scripts/filters/minify.js","hash":"be0574c64a38210e449c99d38a760452015060a3","modified":1614223659200},{"_id":"themes/next/scripts/filters/post.js","hash":"42a9b81c5449afa9d67770604478168333c93804","modified":1614223659203},{"_id":"themes/next/scripts/tags/button.js","hash":"c6ad2ed544fbb25ecb5d820c36e76302504271b7","modified":1614223659356},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"92c19d796bdb3320df9caea59bf52df7a95d9da9","modified":1614223659382},{"_id":"themes/next/scripts/tags/caniuse.js","hash":"935a311142a409c1896b3ae3f01fe7a9e2db1134","modified":1614223659379},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"79102d9e9bccff6224e77a77c4d2d363094ae3df","modified":1614223659385},{"_id":"themes/next/scripts/tags/index.js","hash":"17f9451ce1f10f78437f52218757d38d4e1591b0","modified":1614223659387},{"_id":"themes/next/scripts/tags/label.js","hash":"8a73348186113bae0a51ea2f891c1bb882fab05a","modified":1614223659391},{"_id":"themes/next/scripts/tags/link-grid.js","hash":"9e2c58d1a4d1dd84fa86144e5b4576b2fd10a37f","modified":1614223659396},{"_id":"themes/next/scripts/tags/mermaid.js","hash":"464effc08e757ce8e1bb094707d06ad829af9d62","modified":1614223659399},{"_id":"themes/next/scripts/tags/pdf.js","hash":"344636b6fd7e27e8831c1e194039afc0d61931cd","modified":1614223659405},{"_id":"themes/next/scripts/tags/note.js","hash":"7b94ddb46b7d4b0fe815f2fbe4bd375f07f55363","modified":1614223659402},{"_id":"themes/next/scripts/tags/tabs.js","hash":"2bf00d56b3b289a7dd27e9b5820430a2457a19f3","modified":1614223659407},{"_id":"themes/next/scripts/tags/video.js","hash":"2ee926448583be8f95af1f2884ae2c9c4830151d","modified":1614223659411},{"_id":"themes/next/source/css/_common/components/pages/breadcrumb.styl","hash":"8afdc311c6b8db121758371f95cf1c5e77354f42","modified":1614223659429},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"b6e2eb1550a7845cb2adf86081a4ab6c7bde1e68","modified":1614223659432},{"_id":"themes/next/source/css/_common/components/pages/index.styl","hash":"7504dbc5c70262b048143b2c37d2b5aa2809afa2","modified":1614223659434},{"_id":"themes/next/source/css/_common/components/pages/tag-cloud.styl","hash":"1a81d1a71fcf0699629ce6e72dfd0a15f3a2dd0a","modified":1614223659440},{"_id":"themes/next/source/css/_common/components/post/index.styl","hash":"b3fa752f72ca1413289b76c56fbd33a00e3d25d7","modified":1614223659444},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"ec37a36e94ba791663607a5022f763915778578f","modified":1614223659449},{"_id":"themes/next/source/css/_common/components/post/post-followme.styl","hash":"76d0dfb3a8b873a6180604ac6daecf38b6a963a2","modified":1614223659451},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"aa366d37389760c8595529b850f461569577a1c5","modified":1614223659494},{"_id":"themes/next/source/css/_common/components/post/post-footer.styl","hash":"1d284f3ea03ba9b4feb76b375e539a8e0bccf1c3","modified":1614223659469},{"_id":"themes/next/source/css/_common/components/post/post-header.styl","hash":"967021e5483495bdefac9e0b3e1c84c366c657fd","modified":1614223659497},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"b1181c5f12a70b8bf710586fcb0d7959841ee512","modified":1614223659502},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"6b816c2511242ee503fb5f34cd3e4dcdafc06b85","modified":1614223659438},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"9ac6f477177264c26a46e8333b8456720a0444dc","modified":1614223659500},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"5b5649b9749e3fd8b63aef22ceeece0a6e1df605","modified":1614223659506},{"_id":"themes/next/source/css/_common/components/post/post-body.styl","hash":"5d61dedb3bec1021d52894f9b379e4d0953f6a35","modified":1614223659447},{"_id":"themes/next/source/css/_common/components/third-party/gitalk.styl","hash":"7102f8e819b62cf7d121fd063dc663fd068feaa6","modified":1614223659514},{"_id":"themes/next/source/css/_common/components/third-party/index.styl","hash":"b457756758f0632767e8a560e3033059cbe4a67b","modified":1614223659516},{"_id":"themes/next/source/css/_common/components/third-party/math.styl","hash":"83c6588c51cd418336f4945813410a100ddfe2a4","modified":1614223659518},{"_id":"themes/next/source/css/_common/components/third-party/search.styl","hash":"2896840ab8ac8ab2a7f76d18df893f290ac31625","modified":1614223659523},{"_id":"themes/next/source/css/_common/components/third-party/related-posts.styl","hash":"2c534d2b2dbc932ad65d335a720a7ba9612bac04","modified":1614223659520},{"_id":"themes/next/source/css/_common/components/third-party/utterances.styl","hash":"bf88d9c585d7b00463c46352402cfea415c29493","modified":1614223659526},{"_id":"themes/next/source/css/_common/outline/footer/index.styl","hash":"f11dca93e334b68a29e792f7abe682993fab7568","modified":1614223659531},{"_id":"themes/next/source/css/_common/outline/header/github-banner.styl","hash":"cf194bea1c9e67fde871a04de3bc81df72c54277","modified":1614223659565},{"_id":"themes/next/source/css/_common/outline/header/index.styl","hash":"f1778d2c56974b96dae429456d5c55be325c4946","modified":1614223659569},{"_id":"themes/next/source/css/_common/outline/header/menu.styl","hash":"392fd53a8dd4e3f33a853ebb24290a622300e0ff","modified":1614223659572},{"_id":"themes/next/source/css/_common/outline/header/site-meta.styl","hash":"9a47c9045e443b8d20932f9c564a3a05fa4c6b51","modified":1614223659578},{"_id":"themes/next/source/css/_common/outline/header/bookmark.styl","hash":"d6d60f02b5e9f89dbfce180b3884030898022664","modified":1614223659536},{"_id":"themes/next/source/css/_common/outline/header/site-nav.styl","hash":"9c8abc55c9d94d384a245013951aba5ecca2f4fe","modified":1614223659614},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"d4809783ded05625675b1b4bbd9e99d7f5f7d7f9","modified":1614223659420},{"_id":"themes/next/source/css/_common/components/index.styl","hash":"3c7ae405dd30b9b46494a6b9a6cb1b7ec6138ba9","modified":1614223659426},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"ece860218125bdb2578f373ed4f5040c9670e4b1","modified":1614223659423},{"_id":"themes/next/source/css/_common/components/reading-progress.styl","hash":"ee8fb8348aa76a9b346927ba4cae5666d8d777f7","modified":1614223659511},{"_id":"themes/next/source/css/_common/outline/sidebar/index.styl","hash":"d180871d4440090241fc988736c1f3a7efb4b1ba","modified":1614223659655},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"52fc98b1435129eb3edb9293ced9e507741f1350","modified":1614223659664},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"5b38ac4a0f1ade0e681aff0e3366c481d9cf3dcd","modified":1614223659668},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"9950c3188a28e1c63b5498b7bdcd14b12ace3e28","modified":1614223659672},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"ab715dbf2b98bfeb5e7b7c43e92e5c02496cc2ea","modified":1614223659677},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-dimmer.styl","hash":"fbdb63c6a8887d19b7137325ba7d6806f728139c","modified":1614223659681},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"6394340c28a21f6aa90e786f3bfe24fb26595653","modified":1614223659687},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"f7ff85fe6c4efb8ff036fab2c3277b7d8bed69a8","modified":1614223659684},{"_id":"themes/next/source/css/_common/outline/sidebar/site-state.styl","hash":"69eb1c282a8fd5dbab606cc09c34c5dc8e44e753","modified":1614223659694},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"432e73bc4f99322af6af1852e0ea6e674919c31a","modified":1614223659692},{"_id":"themes/next/source/css/_common/outline/index.styl","hash":"0c9f72ad98807521cbdcee7b5bbe2e884311db39","modified":1614223659616},{"_id":"themes/next/source/css/_common/outline/mobile.styl","hash":"9f88d350df8115d26c6adbc2025a27ef9a42d7ff","modified":1614223659619},{"_id":"themes/next/source/css/_common/scaffolding/highlight/index.styl","hash":"08e79881d58d01afab6dbed37ab4f52356564d7e","modified":1614223659716},{"_id":"themes/next/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"83ee4993710fc8daa1c8dbfccd5d5091fd244c30","modified":1614223659710},{"_id":"themes/next/source/css/_colors.styl","hash":"b37f9847d2f95632e911df670b51921a7d748068","modified":1614223659416},{"_id":"themes/next/source/css/_common/scaffolding/buttons.styl","hash":"a042571d85ff7265f799004239a45f36b716b8a6","modified":1614223659702},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"db5ddaa8fd2101b0fd7108ce4bbcb9f0649fa223","modified":1614223659700},{"_id":"themes/next/source/css/_common/scaffolding/comments.styl","hash":"e4fecc889ba3317a64e9abba5842c79dff9b7827","modified":1614223659705},{"_id":"themes/next/source/css/_common/scaffolding/index.styl","hash":"523fb7b653b87ae37fc91fc8813e4ffad87b0d7e","modified":1614223659720},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"e840b23d33023e6d45e018f6e84b683dd56efd8d","modified":1614223659843},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"b56367ea676ea8e8783ea89cd4ab150c7da7a060","modified":1614223659752},{"_id":"themes/next/source/css/_common/scaffolding/pagination.styl","hash":"41cba8c4c5637a6b8f1b62e67673b33676f5d734","modified":1614223659821},{"_id":"themes/next/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"393ff96234e4196b569d4b11496774eb78e147de","modified":1614223659857},{"_id":"themes/next/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"15a5e273a8137550c93c8d2a60f9fcf86e04a89e","modified":1614223659853},{"_id":"themes/next/source/css/_common/scaffolding/tags/index.styl","hash":"cef4e779473daa3761709958243c6b8a57bbd814","modified":1614223659863},{"_id":"themes/next/source/css/_common/scaffolding/tags/label.styl","hash":"debee14539272fbe3835a7d3853af2230baa3501","modified":1614223659867},{"_id":"themes/next/source/css/_common/scaffolding/tags/mermaid.styl","hash":"3c029a003e9bf747e1b9cc7c0c127f6028374876","modified":1614223659872},{"_id":"themes/next/source/css/_common/scaffolding/tags/link-grid.styl","hash":"79ffcf92771cd48f4a686f9d8d7d610f39e9fc1f","modified":1614223659870},{"_id":"themes/next/source/css/_common/scaffolding/tags/note.styl","hash":"f53e6c12bd4805888f696386d00668f23cd335e7","modified":1614223659897},{"_id":"themes/next/source/css/_common/scaffolding/tags/pdf.styl","hash":"b49c64f8e9a6ca1c45c0ba98febf1974fdd03616","modified":1614223659929},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"4817e77577896ab5c0da434549917ee703a3f4cf","modified":1614223659979},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"fd49b521d67eaccc629f77b4e095cb7310327565","modified":1614223659955},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"357b899ac0f0dfbbbebf1ea972030c7cefa463ce","modified":1614223660012},{"_id":"themes/next/source/css/_schemes/Mist/_layout.styl","hash":"5604ac1e161099a4d3e5657d53507268866dc717","modified":1614223659986},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expand.styl","hash":"b332868d76d9f1651efd65abfc0d3c9d699b1a45","modified":1614223660016},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"8a70d51d8f7cd113e5fbc9f0e70c46a072f282c8","modified":1614223660054},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"82a29572dd90451f75358a2ee2522b87304a0bb8","modified":1614223660048},{"_id":"themes/next/source/css/_schemes/Muse/_header.styl","hash":"06080fd963c904d96c00eff098a284e337953013","modified":1614223660022},{"_id":"themes/next/source/css/_schemes/Muse/_sidebar.styl","hash":"87e163de866938c668ec33e6ff8972b7a968e0af","modified":1614223660080},{"_id":"themes/next/source/css/_schemes/Muse/_sub-menu.styl","hash":"c48ccd8d6651fe1a01faff8f01179456d39ba9b1","modified":1614223660087},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"6ad168288b213cec357e9b5a97674ff2ef3a910c","modified":1614223660113},{"_id":"themes/next/source/css/_schemes/Pisces/_header.styl","hash":"be5c46b983df08b9dbac1b4749b1a101b54b6b50","modified":1614223660117},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"2d337a12c5c668ee64447bda5a9ed64eaed5b29e","modified":1614223660127},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"dc68f16eceaa006e9735d7ff7821af7f4ef50979","modified":1614223660124},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"6eee86c8f0175d6c09e434053516cd8556f78d44","modified":1614223660121},{"_id":"themes/next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"778ed2ad5643b93970c95626b325defeb586733f","modified":1614223660129},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"8000075b227749a7495eaf417cac6ccfbe441580","modified":1614223660132},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"96e0a7c2a65ce68215e17e369085b2ea2f1334f2","modified":1614223660136},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"e1fbf169b9b6a194b518240cbd06ec3c48b83d61","modified":1614223660139},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"e3be898f5ebcf435a26542653a9297ff2c71aeb0","modified":1614223660141},{"_id":"themes/next/source/css/_variables/base.styl","hash":"32a1b73944561655087d80f025208a84e012b3cf","modified":1614223660149},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"c65536a128b9bc9dbe2fbb1b235a3cded2891002","modified":1614223660144},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1614223660156},{"_id":"themes/next/source/images/avatar.gif","hash":"18c53e15eb0c84b139995f9334ed8522b40aeaf6","modified":1614223660159},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1614223660165},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1614223660169},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1614223660162},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1614223660179},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1614223660172},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1614223660181},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1614223660175},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1614223660183},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1614223660186},{"_id":"themes/next/source/images/logo-algolia-nebula-blue-full.svg","hash":"b85e274207b1392782476a0430feac98db1e7da0","modified":1614223660189},{"_id":"themes/next/source/js/schemes/muse.js","hash":"9d15d0d6a58b1df74827288f117af22b4b6aafe5","modified":1614223660215},{"_id":"themes/next/test/helpers/index.js","hash":"63ba28afed697f7b3574436b1133b8ecc9c0c357","modified":1614223660228},{"_id":"themes/next/test/helpers/next-url.js","hash":"abc4ee5149df6172b2c36b6e85d1993ec748ddea","modified":1614223660231},{"_id":"themes/next/test/helpers/font.js","hash":"342ef3c6fd2dcca2a8802a516ed6d7f389fd2ca2","modified":1614223660225},{"_id":"themes/next/test/tags/center-quote.js","hash":"7667342fd1a1417eaf6a254012b84ae40e8d13dd","modified":1614223660246},{"_id":"themes/next/test/tags/group-pictures.js","hash":"f41640e5d0f552c0b0c4ac8876a2edb0fcf54e56","modified":1614223660249},{"_id":"themes/next/test/tags/caniuse.js","hash":"aa5e728445caeaf7c2ccd0f3fcb2cad0c93ca6d1","modified":1614223660243},{"_id":"themes/next/test/tags/button.js","hash":"48f2aa4c513e9e24bd6a811410520b74cd7ea88b","modified":1614223660238},{"_id":"themes/next/test/tags/link-grid.js","hash":"88ec69e4dc1d493d21254ed9296a2514e91f0f8b","modified":1614223660257},{"_id":"themes/next/test/tags/mermaid.js","hash":"ed5b5a70ee49842501c952c4d62483f1fc8eba6b","modified":1614223660261},{"_id":"themes/next/test/tags/index.js","hash":"e8779e54f0979b221858f8bb74dd081bb503b910","modified":1614223660251},{"_id":"themes/next/test/tags/pdf.js","hash":"fd6ea5123560a90f7e7c1eface23dbe1455db25f","modified":1614223660267},{"_id":"themes/next/test/tags/label.js","hash":"4ebf3698c258ca978b997acbdd0dece44069c09d","modified":1614223660254},{"_id":"themes/next/test/tags/tabs.js","hash":"d63722919f9da2e44d6b952801e10a2915ea9c12","modified":1614223660270},{"_id":"themes/next/test/tags/note.js","hash":"3dcfcd65bf9f326972ea7571fdb1444200f5d07e","modified":1614223660264},{"_id":"themes/next/test/tags/video.js","hash":"b796fc4dceb20a30e730c322bb5474c0162464cc","modified":1614223660273},{"_id":"themes/next/test/validate/index.js","hash":"5a95ccc8598667535bd022e988055c0e019f3670","modified":1614223660277},{"_id":"themes/next/source/js/bookmark.js","hash":"e45e1fbb7c6d645e9c410759486216e570d02bef","modified":1614223660198},{"_id":"themes/next/source/js/motion.js","hash":"6d4bd07a6f8e1b4083119dca0acb5b289533b619","modified":1614223660205},{"_id":"themes/next/source/js/local-search.js","hash":"da2051e7cab184ae4aa64457c5db7476b4645fdc","modified":1614223660202},{"_id":"themes/next/source/js/algolia-search.js","hash":"a360423984cdd915d04365c51bcab440e52d7223","modified":1614223660195},{"_id":"themes/next/source/js/schedule.js","hash":"71d62fc3584c47ff2d4cc945226e412264399be9","modified":1614223660211},{"_id":"themes/next/source/js/utils.js","hash":"fcb84304fc3ba06f8c4f840fe1e0843339e0899d","modified":1614223660220},{"_id":"themes/next/test/index.js","hash":"6bf0289846538be3e9a63809af98f00e1fbdd90b","modified":1614223660234},{"_id":"themes/next/source/js/next-boot.js","hash":"c2a04055d8edec03dc74e1c45d83bd3b51467de0","modified":1614223660208},{"_id":"themes/next/package.json","hash":"8cb368a627f118170d04cc4f100a958d60657b02","modified":1614223659142},{"_id":"themes/next/renovate.json","hash":"cb29cc16e61b0b8a6dac34657d76822ae29ad5aa","modified":1614223659145},{"_id":"themes/next/layout/archive.njk","hash":"d759f4d2cf5ddc6875ea250113a00662c1caf6d1","modified":1614223659123},{"_id":"themes/next/layout/index.njk","hash":"37ec3d1bcd20b8ac1d18e0d68f990450890b46cd","modified":1614223659129},{"_id":"themes/next/layout/category.njk","hash":"0a590e87af50e57b15fc37695c9a3bf4a97c3d92","modified":1614223659126},{"_id":"themes/next/layout/page.njk","hash":"9cd3eca2c468bb46c7c5bf391bea4b025af178f6","modified":1614223659132},{"_id":"themes/next/layout/post.njk","hash":"6abeb85fb3e4c382ed4bb6049b12a807e6226e67","modified":1614223659134},{"_id":"themes/next/layout/tag.njk","hash":"6cd707f846bfd6becbcfb060c26958bb4015c31f","modified":1614223659137},{"_id":"themes/next/source/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1614223660191},{"_id":"themes/next/source/css/_mixins.styl","hash":"6bca0a5dc96fea392a0da53e0566ec2a113ec382","modified":1614223659950},{"_id":"themes/next/source/css/main.styl","hash":"78ce791cc4ac95386cf6839ca72f5f7b51f86ee9","modified":1614223660152},{"_id":"themes/next/source/css/_common/scaffolding/toggles.styl","hash":"572a41499391677d84b16d8dbd6a996a3d5ce041","modified":1614223659946},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"ab16a3dcdc0393b9b582ef59dcc13db9320e917c","modified":1614223660019},{"_id":"themes/next/source/css/_common/scaffolding/tags/tabs.styl","hash":"50b00218e854200c4ec0573a841e226d49c45cba","modified":1614223659936},{"_id":"themes/next/source/images/WechatPay.jpeg","hash":"4b9d75f82c409c0dfe49c72b349b926c3c1f5e1d","modified":1614224006609},{"_id":"themes/next/source/images/author.png","hash":"c0f9632ffbae04b6d95f58c95a165affcc63a804","modified":1614223993796},{"_id":"themes/next/source/images/Alipay.jpeg","hash":"38569d1dc192489a4dca73112fb1258d503cdc3a","modified":1614223980494},{"_id":"themes/next/source/js/src/love.js","hash":"effa770d8085f7e7fb903de217ce521dff163780","modified":1614224162272},{"_id":"themes/next/source/js/src/particle.js","hash":"4ec4c6586584c7533e8e2f745b4cb6b9241f4179","modified":1614224162275},{"_id":"source/categories/index.md","hash":"97420e03737b5ca5c47270fc1645716b2b8a4ff7","modified":1614224356674},{"_id":"source/README.MDOWN","hash":"141f2b32ad860ca25ae5d88d18da3fb0d1be144a","modified":1614224307819},{"_id":"themes/next/layout/_macro/passage-end-tag.njk","hash":"f29b50d83bcdc9e70696b6a8a8917d8b2ad4be10","modified":1614224219676}],"Category":[],"Data":[],"Page":[{"title":"分类","type":"categories","comments":0,"date":"2021-02-24T10:03:47.000Z","_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\ntype: \"categories\"\ncomments: false\ndate: 2021-02-24 18:03:47\n---\n","updated":"2021-02-25T03:39:16.674Z","path":"categories/index.html","_id":"cklkbi5gy0000klopdl0qgv7t","layout":"page","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"Promise","date":"2021-02-24T06:58:30.000Z","_content":"\n>若想系统学习Promise可以阅读：[阮一峰大神写的Promise对象](https://es6.ruanyifeng.com/#docs/promise)，此篇记录常用用法。\n\n## Promise顺序请求\n\n> 方法1——连续使用then链式调用\n方法2——使用promise构建队列\n方法3——使用async、await实现类似同步编程，async函数内部实现同步\n参考：https://www.jianshu.com/p/dbda3053da20\n\n### 方法1：链式调用\n\n```javascript\nfunction getA(){\n    return  new Promise(function(resolve, reject){ \n    setTimeout(function(){     \n          resolve(2);\n      }, 1000);\n  });\n}\n \nfunction getB(){\n    return  new Promise(function(resolve, reject){       \n        setTimeout(function(){\n            resolve(3);\n        }, 1000);\n    });\n}\n \nfunction addAB(a,b){\n    return a+b\n}\n\nfunction getResult(){\n    var  obj={};\n    Promise.resolve().then(function(){\n        return  getA() \n    })\n    .then(function(a){\n         obj.a=a;\n    })\n    .then(function(){\n        return getB() \n    })\n    .then(function(b){\n         obj.b=b;\n         return obj;\n    })\n    .then(function(obj){\n       return  addAB(obj['a'],obj['b'])\n    })\n    .then(data=>{\n        console.log(data)\n    })\n    .catch(e => console.log(e));\n}\ngetResult();\n```\n### 方法2：（待补充）\n### 方法3：（待补充）\n\n\n## Promise并行请求\n\n>getA和getB并行执行，然后输出结果。如果有一个错误，就抛出错误\n>每一个promise都必须返回resolve结果才正确\n  每一个promise都不处理错误\n  参考：https://www.jianshu.com/p/dbda3053da20\n  \n\n```javascript\n/**\n * 每一个promise都必须返回resolve结果才正确\n * 每一个promise都不处理错误\n */\n\nconst getA = new Promise((resolve, reject) => {\n   //模拟异步任务\n   setTimeout(function(){\n     resolve(2);\n   }, 1000) \n})\n.then(result => result)\n\n\nconst getB = new Promise((resolve, reject) => {\n   setTimeout(function(){\n     // resolve(3);\n     reject('Error in getB');\n   }, 1000) \n})\n.then(result => result)\n\n\nPromise.all([getA, getB]).then(data=>{\n    console.log(data)\n})\n.catch(e => console.log(e));\n```\n\n> getA和getB并行执行，然后输出结果。总是返回resolve结果\n> 每一个promise自己处理错误\n\n```javascript\n/**\n * 每一个promise自己处理错误\n */\n\nconst getA = new Promise((resolve, reject) => {\n   //模拟异步任务\n   setTimeout(function(){\n     resolve(2);\n   }, 1000) \n})\n.then(result => result)\n.catch(e=>{\n\n})\n\n\nconst getB = new Promise((resolve, reject) => {\n   setTimeout(function(){\n     // resolve(3);\n     reject('Error in getB');\n   }, 1000) \n})\n.then(result => result)\n.catch(e=>e)\n\n\nPromise.all([getA, getB]).then(data=>{\n    console.log(data)\n})\n.catch(e => console.log(e));\n```\n\n> Promise.all传入同一个方法不同参数的封装\n> 应用场景 比如你需要同时发起多页请求,需要传入页码但是方法都是一样的此时我们就可以进行封装一下,很实用的一个技巧\n> 参考：https://blog.csdn.net/qq_25842063/article/details/84284911\n\n```javascript\nlet tasks = [];\nfor (let i = 1; i <= 5; i++) {\n    tasks.push(i);\n};\n/*\n* @params : func:你封装的方法 params: 参数的数组\n*/\nlet getDataBind = (func, params) => {\n        return params.map( item => {\n            return func.call(null, item) //传参\n        })\n    }\n /*\n @params : page_no 页码  \n getDate 可以换成你自己需要重复操作的方法,同理\n */\nlet getData = (page_no) => {\n        let saveListData = JSON.parse(localStorage.getItem(this.props.saveListData));\n        let params = {\n            page_no:page_no,\n            ...saveListData.loadParams\n        }\n        return new Promise(resolve => {\n            get(this.props.sortUrl, params, this, false).then(function (data) {\n                resolve(data.result;);\n            });\n        })\n    }  \n Promise.all(this.getDataBind(this.getData, arrPage))\n\t.then( resultArr  => {\n\t\t    resultArr = resultArr.flat();//拉平数组\n\t\t    console.log(resultArr)    //这里就获取到所有页的数据了\n\t});\n//\n\n```\n\n## Promise 核心源码\n\n> 参考：https://www.jianshu.com/p/43de678e918a\n\n```javascript\n  // 判断变量否为function\n  const isFunction = variable => typeof variable === 'function'\n  // 定义Promise的三种状态常量\n  const PENDING = 'PENDING'\n  const FULFILLED = 'FULFILLED'\n  const REJECTED = 'REJECTED'\n\n  class MyPromise {\n    constructor (handle) {\n      if (!isFunction(handle)) {\n        throw new Error('MyPromise must accept a function as a parameter')\n      }\n      // 添加状态\n      this._status = PENDING\n      // 添加状态\n      this._value = undefined\n      // 添加成功回调函数队列\n      this._fulfilledQueues = []\n      // 添加失败回调函数队列\n      this._rejectedQueues = []\n      // 执行handle\n      try {\n        handle(this._resolve.bind(this), this._reject.bind(this)) \n      } catch (err) {\n        this._reject(err)\n      }\n    }\n    // 添加resovle时执行的函数\n    _resolve (val) {\n      const run = () => {\n        if (this._status !== PENDING) return\n        this._status = FULFILLED\n        // 依次执行成功队列中的函数，并清空队列\n        const runFulfilled = (value) => {\n          let cb;\n          while (cb = this._fulfilledQueues.shift()) {\n            cb(value)\n          }\n        }\n        // 依次执行失败队列中的函数，并清空队列\n        const runRejected = (error) => {\n          let cb;\n          while (cb = this._rejectedQueues.shift()) {\n            cb(error)\n          }\n        }\n        /* 如果resolve的参数为Promise对象，则必须等待该Promise对象状态改变后,\n          当前Promsie的状态才会改变，且状态取决于参数Promsie对象的状态\n        */\n        if (val instanceof MyPromise) {\n          val.then(value => {\n            this._value = value\n            runFulfilled(value)\n          }, err => {\n            this._value = err\n            runRejected(err)\n          })\n        } else {\n          this._value = val\n          runFulfilled(val)\n        }\n      }\n      // 为了支持同步的Promise，这里采用异步调用\n      setTimeout(run, 0)\n    }\n    // 添加reject时执行的函数\n    _reject (err) { \n      if (this._status !== PENDING) return\n      // 依次执行失败队列中的函数，并清空队列\n      const run = () => {\n        this._status = REJECTED\n        this._value = err\n        let cb;\n        while (cb = this._rejectedQueues.shift()) {\n          cb(err)\n        }\n      }\n      // 为了支持同步的Promise，这里采用异步调用\n      setTimeout(run, 0)\n    }\n    // 添加then方法\n    then (onFulfilled, onRejected) {\n      const { _value, _status } = this\n      // 返回一个新的Promise对象\n      return new MyPromise((onFulfilledNext, onRejectedNext) => {\n        // 封装一个成功时执行的函数\n        let fulfilled = value => {\n          try {\n            if (!isFunction(onFulfilled)) {\n              onFulfilledNext(value)\n            } else {\n              let res =  onFulfilled(value);\n              if (res instanceof MyPromise) {\n                // 如果当前回调函数返回MyPromise对象，必须等待其状态改变后在执行下一个回调\n                res.then(onFulfilledNext, onRejectedNext)\n              } else {\n                //否则会将返回结果直接作为参数，传入下一个then的回调函数，并立即执行下一个then的回调函数\n                onFulfilledNext(res)\n              }\n            }\n          } catch (err) {\n            // 如果函数执行出错，新的Promise对象的状态为失败\n            onRejectedNext(err)\n          }\n        }\n        // 封装一个失败时执行的函数\n        let rejected = error => {\n          try {\n            if (!isFunction(onRejected)) {\n              onRejectedNext(error)\n            } else {\n                let res = onRejected(error);\n                if (res instanceof MyPromise) {\n                  // 如果当前回调函数返回MyPromise对象，必须等待其状态改变后在执行下一个回调\n                  res.then(onFulfilledNext, onRejectedNext)\n                } else {\n                  //否则会将返回结果直接作为参数，传入下一个then的回调函数，并立即执行下一个then的回调函数\n                  onFulfilledNext(res)\n                }\n            }\n          } catch (err) {\n            // 如果函数执行出错，新的Promise对象的状态为失败\n            onRejectedNext(err)\n          }\n        }\n        switch (_status) {\n          // 当状态为pending时，将then方法回调函数加入执行队列等待执行\n          case PENDING:\n            this._fulfilledQueues.push(fulfilled)\n            this._rejectedQueues.push(rejected)\n            break\n          // 当状态已经改变时，立即执行对应的回调函数\n          case FULFILLED:\n            fulfilled(_value)\n            break\n          case REJECTED:\n            rejected(_value)\n            break\n        }\n      })\n    }\n    // 添加catch方法\n    catch (onRejected) {\n      return this.then(undefined, onRejected)\n    }\n    // 添加静态resolve方法\n    static resolve (value) {\n      // 如果参数是MyPromise实例，直接返回这个实例\n      if (value instanceof MyPromise) return value\n      return new MyPromise(resolve => resolve(value))\n    }\n    // 添加静态reject方法\n    static reject (value) {\n      return new MyPromise((resolve ,reject) => reject(value))\n    }\n    // 添加静态all方法\n    static all (list) {\n      return new MyPromise((resolve, reject) => {\n        /**\n         * 返回值的集合\n         */\n        let values = []\n        let count = 0\n        for (let [i, p] of list.entries()) {\n          // 数组参数如果不是MyPromise实例，先调用MyPromise.resolve\n          this.resolve(p).then(res => {\n            values[i] = res\n            count++\n            // 所有状态都变成fulfilled时返回的MyPromise状态就变成fulfilled\n            if (count === list.length) resolve(values)\n          }, err => {\n            // 有一个被rejected时返回的MyPromise状态就变成rejected\n            reject(err)\n          })\n        }\n      })\n    }\n    // 添加静态race方法\n    static race (list) {\n      return new MyPromise((resolve, reject) => {\n        for (let p of list) {\n          // 只要有一个实例率先改变状态，新的MyPromise的状态就跟着改变\n          this.resolve(p).then(res => {\n            resolve(res)\n          }, err => {\n            reject(err)\n          })\n        }\n      })\n    }\n    finally (cb) {\n      return this.then(\n        value  => MyPromise.resolve(cb()).then(() => value),\n        reason => MyPromise.resolve(cb()).then(() => { throw reason })\n      );\n    }\n  }\n```\n\n","source":"_posts/Promise.md","raw":"---\ntitle: Promise\ndate: 2021-02-24 14:58:30\ntags:\n---\n\n>若想系统学习Promise可以阅读：[阮一峰大神写的Promise对象](https://es6.ruanyifeng.com/#docs/promise)，此篇记录常用用法。\n\n## Promise顺序请求\n\n> 方法1——连续使用then链式调用\n方法2——使用promise构建队列\n方法3——使用async、await实现类似同步编程，async函数内部实现同步\n参考：https://www.jianshu.com/p/dbda3053da20\n\n### 方法1：链式调用\n\n```javascript\nfunction getA(){\n    return  new Promise(function(resolve, reject){ \n    setTimeout(function(){     \n          resolve(2);\n      }, 1000);\n  });\n}\n \nfunction getB(){\n    return  new Promise(function(resolve, reject){       \n        setTimeout(function(){\n            resolve(3);\n        }, 1000);\n    });\n}\n \nfunction addAB(a,b){\n    return a+b\n}\n\nfunction getResult(){\n    var  obj={};\n    Promise.resolve().then(function(){\n        return  getA() \n    })\n    .then(function(a){\n         obj.a=a;\n    })\n    .then(function(){\n        return getB() \n    })\n    .then(function(b){\n         obj.b=b;\n         return obj;\n    })\n    .then(function(obj){\n       return  addAB(obj['a'],obj['b'])\n    })\n    .then(data=>{\n        console.log(data)\n    })\n    .catch(e => console.log(e));\n}\ngetResult();\n```\n### 方法2：（待补充）\n### 方法3：（待补充）\n\n\n## Promise并行请求\n\n>getA和getB并行执行，然后输出结果。如果有一个错误，就抛出错误\n>每一个promise都必须返回resolve结果才正确\n  每一个promise都不处理错误\n  参考：https://www.jianshu.com/p/dbda3053da20\n  \n\n```javascript\n/**\n * 每一个promise都必须返回resolve结果才正确\n * 每一个promise都不处理错误\n */\n\nconst getA = new Promise((resolve, reject) => {\n   //模拟异步任务\n   setTimeout(function(){\n     resolve(2);\n   }, 1000) \n})\n.then(result => result)\n\n\nconst getB = new Promise((resolve, reject) => {\n   setTimeout(function(){\n     // resolve(3);\n     reject('Error in getB');\n   }, 1000) \n})\n.then(result => result)\n\n\nPromise.all([getA, getB]).then(data=>{\n    console.log(data)\n})\n.catch(e => console.log(e));\n```\n\n> getA和getB并行执行，然后输出结果。总是返回resolve结果\n> 每一个promise自己处理错误\n\n```javascript\n/**\n * 每一个promise自己处理错误\n */\n\nconst getA = new Promise((resolve, reject) => {\n   //模拟异步任务\n   setTimeout(function(){\n     resolve(2);\n   }, 1000) \n})\n.then(result => result)\n.catch(e=>{\n\n})\n\n\nconst getB = new Promise((resolve, reject) => {\n   setTimeout(function(){\n     // resolve(3);\n     reject('Error in getB');\n   }, 1000) \n})\n.then(result => result)\n.catch(e=>e)\n\n\nPromise.all([getA, getB]).then(data=>{\n    console.log(data)\n})\n.catch(e => console.log(e));\n```\n\n> Promise.all传入同一个方法不同参数的封装\n> 应用场景 比如你需要同时发起多页请求,需要传入页码但是方法都是一样的此时我们就可以进行封装一下,很实用的一个技巧\n> 参考：https://blog.csdn.net/qq_25842063/article/details/84284911\n\n```javascript\nlet tasks = [];\nfor (let i = 1; i <= 5; i++) {\n    tasks.push(i);\n};\n/*\n* @params : func:你封装的方法 params: 参数的数组\n*/\nlet getDataBind = (func, params) => {\n        return params.map( item => {\n            return func.call(null, item) //传参\n        })\n    }\n /*\n @params : page_no 页码  \n getDate 可以换成你自己需要重复操作的方法,同理\n */\nlet getData = (page_no) => {\n        let saveListData = JSON.parse(localStorage.getItem(this.props.saveListData));\n        let params = {\n            page_no:page_no,\n            ...saveListData.loadParams\n        }\n        return new Promise(resolve => {\n            get(this.props.sortUrl, params, this, false).then(function (data) {\n                resolve(data.result;);\n            });\n        })\n    }  \n Promise.all(this.getDataBind(this.getData, arrPage))\n\t.then( resultArr  => {\n\t\t    resultArr = resultArr.flat();//拉平数组\n\t\t    console.log(resultArr)    //这里就获取到所有页的数据了\n\t});\n//\n\n```\n\n## Promise 核心源码\n\n> 参考：https://www.jianshu.com/p/43de678e918a\n\n```javascript\n  // 判断变量否为function\n  const isFunction = variable => typeof variable === 'function'\n  // 定义Promise的三种状态常量\n  const PENDING = 'PENDING'\n  const FULFILLED = 'FULFILLED'\n  const REJECTED = 'REJECTED'\n\n  class MyPromise {\n    constructor (handle) {\n      if (!isFunction(handle)) {\n        throw new Error('MyPromise must accept a function as a parameter')\n      }\n      // 添加状态\n      this._status = PENDING\n      // 添加状态\n      this._value = undefined\n      // 添加成功回调函数队列\n      this._fulfilledQueues = []\n      // 添加失败回调函数队列\n      this._rejectedQueues = []\n      // 执行handle\n      try {\n        handle(this._resolve.bind(this), this._reject.bind(this)) \n      } catch (err) {\n        this._reject(err)\n      }\n    }\n    // 添加resovle时执行的函数\n    _resolve (val) {\n      const run = () => {\n        if (this._status !== PENDING) return\n        this._status = FULFILLED\n        // 依次执行成功队列中的函数，并清空队列\n        const runFulfilled = (value) => {\n          let cb;\n          while (cb = this._fulfilledQueues.shift()) {\n            cb(value)\n          }\n        }\n        // 依次执行失败队列中的函数，并清空队列\n        const runRejected = (error) => {\n          let cb;\n          while (cb = this._rejectedQueues.shift()) {\n            cb(error)\n          }\n        }\n        /* 如果resolve的参数为Promise对象，则必须等待该Promise对象状态改变后,\n          当前Promsie的状态才会改变，且状态取决于参数Promsie对象的状态\n        */\n        if (val instanceof MyPromise) {\n          val.then(value => {\n            this._value = value\n            runFulfilled(value)\n          }, err => {\n            this._value = err\n            runRejected(err)\n          })\n        } else {\n          this._value = val\n          runFulfilled(val)\n        }\n      }\n      // 为了支持同步的Promise，这里采用异步调用\n      setTimeout(run, 0)\n    }\n    // 添加reject时执行的函数\n    _reject (err) { \n      if (this._status !== PENDING) return\n      // 依次执行失败队列中的函数，并清空队列\n      const run = () => {\n        this._status = REJECTED\n        this._value = err\n        let cb;\n        while (cb = this._rejectedQueues.shift()) {\n          cb(err)\n        }\n      }\n      // 为了支持同步的Promise，这里采用异步调用\n      setTimeout(run, 0)\n    }\n    // 添加then方法\n    then (onFulfilled, onRejected) {\n      const { _value, _status } = this\n      // 返回一个新的Promise对象\n      return new MyPromise((onFulfilledNext, onRejectedNext) => {\n        // 封装一个成功时执行的函数\n        let fulfilled = value => {\n          try {\n            if (!isFunction(onFulfilled)) {\n              onFulfilledNext(value)\n            } else {\n              let res =  onFulfilled(value);\n              if (res instanceof MyPromise) {\n                // 如果当前回调函数返回MyPromise对象，必须等待其状态改变后在执行下一个回调\n                res.then(onFulfilledNext, onRejectedNext)\n              } else {\n                //否则会将返回结果直接作为参数，传入下一个then的回调函数，并立即执行下一个then的回调函数\n                onFulfilledNext(res)\n              }\n            }\n          } catch (err) {\n            // 如果函数执行出错，新的Promise对象的状态为失败\n            onRejectedNext(err)\n          }\n        }\n        // 封装一个失败时执行的函数\n        let rejected = error => {\n          try {\n            if (!isFunction(onRejected)) {\n              onRejectedNext(error)\n            } else {\n                let res = onRejected(error);\n                if (res instanceof MyPromise) {\n                  // 如果当前回调函数返回MyPromise对象，必须等待其状态改变后在执行下一个回调\n                  res.then(onFulfilledNext, onRejectedNext)\n                } else {\n                  //否则会将返回结果直接作为参数，传入下一个then的回调函数，并立即执行下一个then的回调函数\n                  onFulfilledNext(res)\n                }\n            }\n          } catch (err) {\n            // 如果函数执行出错，新的Promise对象的状态为失败\n            onRejectedNext(err)\n          }\n        }\n        switch (_status) {\n          // 当状态为pending时，将then方法回调函数加入执行队列等待执行\n          case PENDING:\n            this._fulfilledQueues.push(fulfilled)\n            this._rejectedQueues.push(rejected)\n            break\n          // 当状态已经改变时，立即执行对应的回调函数\n          case FULFILLED:\n            fulfilled(_value)\n            break\n          case REJECTED:\n            rejected(_value)\n            break\n        }\n      })\n    }\n    // 添加catch方法\n    catch (onRejected) {\n      return this.then(undefined, onRejected)\n    }\n    // 添加静态resolve方法\n    static resolve (value) {\n      // 如果参数是MyPromise实例，直接返回这个实例\n      if (value instanceof MyPromise) return value\n      return new MyPromise(resolve => resolve(value))\n    }\n    // 添加静态reject方法\n    static reject (value) {\n      return new MyPromise((resolve ,reject) => reject(value))\n    }\n    // 添加静态all方法\n    static all (list) {\n      return new MyPromise((resolve, reject) => {\n        /**\n         * 返回值的集合\n         */\n        let values = []\n        let count = 0\n        for (let [i, p] of list.entries()) {\n          // 数组参数如果不是MyPromise实例，先调用MyPromise.resolve\n          this.resolve(p).then(res => {\n            values[i] = res\n            count++\n            // 所有状态都变成fulfilled时返回的MyPromise状态就变成fulfilled\n            if (count === list.length) resolve(values)\n          }, err => {\n            // 有一个被rejected时返回的MyPromise状态就变成rejected\n            reject(err)\n          })\n        }\n      })\n    }\n    // 添加静态race方法\n    static race (list) {\n      return new MyPromise((resolve, reject) => {\n        for (let p of list) {\n          // 只要有一个实例率先改变状态，新的MyPromise的状态就跟着改变\n          this.resolve(p).then(res => {\n            resolve(res)\n          }, err => {\n            reject(err)\n          })\n        }\n      })\n    }\n    finally (cb) {\n      return this.then(\n        value  => MyPromise.resolve(cb()).then(() => value),\n        reason => MyPromise.resolve(cb()).then(() => { throw reason })\n      );\n    }\n  }\n```\n\n","slug":"Promise","published":1,"updated":"2021-02-25T03:25:38.098Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cklkb1drp00003kopbhw8eyj3","content":"<blockquote>\n<p>若想系统学习Promise可以阅读：<a href=\"https://es6.ruanyifeng.com/#docs/promise\">阮一峰大神写的Promise对象</a>，此篇记录常用用法。</p>\n</blockquote>\n<h2 id=\"Promise顺序请求\"><a href=\"#Promise顺序请求\" class=\"headerlink\" title=\"Promise顺序请求\"></a>Promise顺序请求</h2><blockquote>\n<p>方法1——连续使用then链式调用<br>方法2——使用promise构建队列<br>方法3——使用async、await实现类似同步编程，async函数内部实现同步<br>参考：<a href=\"https://www.jianshu.com/p/dbda3053da20\">https://www.jianshu.com/p/dbda3053da20</a></p>\n</blockquote>\n<h3 id=\"方法1：链式调用\"><a href=\"#方法1：链式调用\" class=\"headerlink\" title=\"方法1：链式调用\"></a>方法1：链式调用</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getA</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>  <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)</span>&#123; </span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;     </span><br><span class=\"line\">          resolve(<span class=\"number\">2</span>);</span><br><span class=\"line\">      &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getB</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>  <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)</span>&#123;       </span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">            resolve(<span class=\"number\">3</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addAB</span>(<span class=\"params\">a,b</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a+b</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getResult</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span>  obj=&#123;&#125;;</span><br><span class=\"line\">    <span class=\"built_in\">Promise</span>.resolve().then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>  getA() </span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">a</span>)</span>&#123;</span><br><span class=\"line\">         obj.a=a;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> getB() </span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">b</span>)</span>&#123;</span><br><span class=\"line\">         obj.b=b;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> obj;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">obj</span>)</span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">return</span>  addAB(obj[<span class=\"string\">&#x27;a&#x27;</span>],obj[<span class=\"string\">&#x27;b&#x27;</span>])</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"params\">data</span>=&gt;</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(data)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .catch(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> <span class=\"built_in\">console</span>.log(e));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">getResult();</span><br></pre></td></tr></table></figure>\n<h3 id=\"方法2：（待补充）\"><a href=\"#方法2：（待补充）\" class=\"headerlink\" title=\"方法2：（待补充）\"></a>方法2：（待补充）</h3><h3 id=\"方法3：（待补充）\"><a href=\"#方法3：（待补充）\" class=\"headerlink\" title=\"方法3：（待补充）\"></a>方法3：（待补充）</h3><h2 id=\"Promise并行请求\"><a href=\"#Promise并行请求\" class=\"headerlink\" title=\"Promise并行请求\"></a>Promise并行请求</h2><blockquote>\n<p>getA和getB并行执行，然后输出结果。如果有一个错误，就抛出错误<br>每一个promise都必须返回resolve结果才正确<br>  每一个promise都不处理错误<br>  参考：<a href=\"https://www.jianshu.com/p/dbda3053da20\">https://www.jianshu.com/p/dbda3053da20</a></p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 每一个promise都必须返回resolve结果才正确</span></span><br><span class=\"line\"><span class=\"comment\"> * 每一个promise都不处理错误</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> getA = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">   <span class=\"comment\">//模拟异步任务</span></span><br><span class=\"line\">   <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">     resolve(<span class=\"number\">2</span>);</span><br><span class=\"line\">   &#125;, <span class=\"number\">1000</span>) </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> result)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> getB = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">   <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">     <span class=\"comment\">// resolve(3);</span></span><br><span class=\"line\">     reject(<span class=\"string\">&#x27;Error in getB&#x27;</span>);</span><br><span class=\"line\">   &#125;, <span class=\"number\">1000</span>) </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> result)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.all([getA, getB]).then(<span class=\"function\"><span class=\"params\">data</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(data)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.catch(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> <span class=\"built_in\">console</span>.log(e));</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>getA和getB并行执行，然后输出结果。总是返回resolve结果<br>每一个promise自己处理错误</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 每一个promise自己处理错误</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> getA = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">   <span class=\"comment\">//模拟异步任务</span></span><br><span class=\"line\">   <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">     resolve(<span class=\"number\">2</span>);</span><br><span class=\"line\">   &#125;, <span class=\"number\">1000</span>) </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> result)</span><br><span class=\"line\">.catch(<span class=\"function\"><span class=\"params\">e</span>=&gt;</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> getB = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">   <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">     <span class=\"comment\">// resolve(3);</span></span><br><span class=\"line\">     reject(<span class=\"string\">&#x27;Error in getB&#x27;</span>);</span><br><span class=\"line\">   &#125;, <span class=\"number\">1000</span>) </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> result)</span><br><span class=\"line\">.catch(<span class=\"function\"><span class=\"params\">e</span>=&gt;</span>e)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.all([getA, getB]).then(<span class=\"function\"><span class=\"params\">data</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(data)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.catch(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> <span class=\"built_in\">console</span>.log(e));</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>Promise.all传入同一个方法不同参数的封装<br>应用场景 比如你需要同时发起多页请求,需要传入页码但是方法都是一样的此时我们就可以进行封装一下,很实用的一个技巧<br>参考：<a href=\"https://blog.csdn.net/qq_25842063/article/details/84284911\">https://blog.csdn.net/qq_25842063/article/details/84284911</a></p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> tasks = [];</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt;= <span class=\"number\">5</span>; i++) &#123;</span><br><span class=\"line\">    tasks.push(i);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">* @params : func:你封装的方法 params: 参数的数组</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> getDataBind = <span class=\"function\">(<span class=\"params\">func, params</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> params.map( <span class=\"function\"><span class=\"params\">item</span> =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> func.call(<span class=\"literal\">null</span>, item) <span class=\"comment\">//传参</span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> @params : page_no 页码  </span></span><br><span class=\"line\"><span class=\"comment\"> getDate 可以换成你自己需要重复操作的方法,同理</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> getData = <span class=\"function\">(<span class=\"params\">page_no</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> saveListData = <span class=\"built_in\">JSON</span>.parse(<span class=\"built_in\">localStorage</span>.getItem(<span class=\"built_in\">this</span>.props.saveListData));</span><br><span class=\"line\">        <span class=\"keyword\">let</span> params = &#123;</span><br><span class=\"line\">            page_no:page_no,</span><br><span class=\"line\">            ...saveListData.loadParams</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> &#123;</span><br><span class=\"line\">            get(<span class=\"built_in\">this</span>.props.sortUrl, params, <span class=\"built_in\">this</span>, <span class=\"literal\">false</span>).then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>) </span>&#123;</span><br><span class=\"line\">                resolve(data.result;);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\"> <span class=\"built_in\">Promise</span>.all(<span class=\"built_in\">this</span>.getDataBind(<span class=\"built_in\">this</span>.getData, arrPage))</span><br><span class=\"line\">\t.then( <span class=\"function\"><span class=\"params\">resultArr</span>  =&gt;</span> &#123;</span><br><span class=\"line\">\t\t    resultArr = resultArr.flat();<span class=\"comment\">//拉平数组</span></span><br><span class=\"line\">\t\t    <span class=\"built_in\">console</span>.log(resultArr)    <span class=\"comment\">//这里就获取到所有页的数据了</span></span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Promise-核心源码\"><a href=\"#Promise-核心源码\" class=\"headerlink\" title=\"Promise 核心源码\"></a>Promise 核心源码</h2><blockquote>\n<p>参考：<a href=\"https://www.jianshu.com/p/43de678e918a\">https://www.jianshu.com/p/43de678e918a</a></p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 判断变量否为function</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> isFunction = <span class=\"function\"><span class=\"params\">variable</span> =&gt;</span> <span class=\"keyword\">typeof</span> variable === <span class=\"string\">&#x27;function&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">// 定义Promise的三种状态常量</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> PENDING = <span class=\"string\">&#x27;PENDING&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> FULFILLED = <span class=\"string\">&#x27;FULFILLED&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> REJECTED = <span class=\"string\">&#x27;REJECTED&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyPromise</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"title\">constructor</span> (<span class=\"params\">handle</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!isFunction(handle)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">&#x27;MyPromise must accept a function as a parameter&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 添加状态</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>._status = PENDING</span><br><span class=\"line\">    <span class=\"comment\">// 添加状态</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>._value = <span class=\"literal\">undefined</span></span><br><span class=\"line\">    <span class=\"comment\">// 添加成功回调函数队列</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>._fulfilledQueues = []</span><br><span class=\"line\">    <span class=\"comment\">// 添加失败回调函数队列</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>._rejectedQueues = []</span><br><span class=\"line\">    <span class=\"comment\">// 执行handle</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      handle(<span class=\"built_in\">this</span>._resolve.bind(<span class=\"built_in\">this</span>), <span class=\"built_in\">this</span>._reject.bind(<span class=\"built_in\">this</span>)) </span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>._reject(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加resovle时执行的函数</span></span><br><span class=\"line\">  _resolve (val) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> run = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>._status !== PENDING) <span class=\"keyword\">return</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>._status = FULFILLED</span><br><span class=\"line\">      <span class=\"comment\">// 依次执行成功队列中的函数，并清空队列</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> runFulfilled = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> cb;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (cb = <span class=\"built_in\">this</span>._fulfilledQueues.shift()) &#123;</span><br><span class=\"line\">          cb(value)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// 依次执行失败队列中的函数，并清空队列</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> runRejected = <span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> cb;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (cb = <span class=\"built_in\">this</span>._rejectedQueues.shift()) &#123;</span><br><span class=\"line\">          cb(error)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">/* 如果resolve的参数为Promise对象，则必须等待该Promise对象状态改变后,</span></span><br><span class=\"line\"><span class=\"comment\">        当前Promsie的状态才会改变，且状态取决于参数Promsie对象的状态</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (val <span class=\"keyword\">instanceof</span> MyPromise) &#123;</span><br><span class=\"line\">        val.then(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"built_in\">this</span>._value = value</span><br><span class=\"line\">          runFulfilled(value)</span><br><span class=\"line\">        &#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"built_in\">this</span>._value = err</span><br><span class=\"line\">          runRejected(err)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>._value = val</span><br><span class=\"line\">        runFulfilled(val)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 为了支持同步的Promise，这里采用异步调用</span></span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(run, <span class=\"number\">0</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加reject时执行的函数</span></span><br><span class=\"line\">  _reject (err) &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>._status !== PENDING) <span class=\"keyword\">return</span></span><br><span class=\"line\">    <span class=\"comment\">// 依次执行失败队列中的函数，并清空队列</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> run = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>._status = REJECTED</span><br><span class=\"line\">      <span class=\"built_in\">this</span>._value = err</span><br><span class=\"line\">      <span class=\"keyword\">let</span> cb;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (cb = <span class=\"built_in\">this</span>._rejectedQueues.shift()) &#123;</span><br><span class=\"line\">        cb(err)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 为了支持同步的Promise，这里采用异步调用</span></span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(run, <span class=\"number\">0</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加then方法</span></span><br><span class=\"line\">  then (onFulfilled, onRejected) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; _value, _status &#125; = <span class=\"built_in\">this</span></span><br><span class=\"line\">    <span class=\"comment\">// 返回一个新的Promise对象</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> MyPromise(<span class=\"function\">(<span class=\"params\">onFulfilledNext, onRejectedNext</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 封装一个成功时执行的函数</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> fulfilled = <span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (!isFunction(onFulfilled)) &#123;</span><br><span class=\"line\">            onFulfilledNext(value)</span><br><span class=\"line\">          &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> res =  onFulfilled(value);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (res <span class=\"keyword\">instanceof</span> MyPromise) &#123;</span><br><span class=\"line\">              <span class=\"comment\">// 如果当前回调函数返回MyPromise对象，必须等待其状态改变后在执行下一个回调</span></span><br><span class=\"line\">              res.then(onFulfilledNext, onRejectedNext)</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">              <span class=\"comment\">//否则会将返回结果直接作为参数，传入下一个then的回调函数，并立即执行下一个then的回调函数</span></span><br><span class=\"line\">              onFulfilledNext(res)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// 如果函数执行出错，新的Promise对象的状态为失败</span></span><br><span class=\"line\">          onRejectedNext(err)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// 封装一个失败时执行的函数</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> rejected = <span class=\"function\"><span class=\"params\">error</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (!isFunction(onRejected)) &#123;</span><br><span class=\"line\">            onRejectedNext(error)</span><br><span class=\"line\">          &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">              <span class=\"keyword\">let</span> res = onRejected(error);</span><br><span class=\"line\">              <span class=\"keyword\">if</span> (res <span class=\"keyword\">instanceof</span> MyPromise) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果当前回调函数返回MyPromise对象，必须等待其状态改变后在执行下一个回调</span></span><br><span class=\"line\">                res.then(onFulfilledNext, onRejectedNext)</span><br><span class=\"line\">              &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">//否则会将返回结果直接作为参数，传入下一个then的回调函数，并立即执行下一个then的回调函数</span></span><br><span class=\"line\">                onFulfilledNext(res)</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// 如果函数执行出错，新的Promise对象的状态为失败</span></span><br><span class=\"line\">          onRejectedNext(err)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">switch</span> (_status) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 当状态为pending时，将then方法回调函数加入执行队列等待执行</span></span><br><span class=\"line\">        <span class=\"keyword\">case</span> PENDING:</span><br><span class=\"line\">          <span class=\"built_in\">this</span>._fulfilledQueues.push(fulfilled)</span><br><span class=\"line\">          <span class=\"built_in\">this</span>._rejectedQueues.push(rejected)</span><br><span class=\"line\">          <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"comment\">// 当状态已经改变时，立即执行对应的回调函数</span></span><br><span class=\"line\">        <span class=\"keyword\">case</span> FULFILLED:</span><br><span class=\"line\">          fulfilled(_value)</span><br><span class=\"line\">          <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">case</span> REJECTED:</span><br><span class=\"line\">          rejected(_value)</span><br><span class=\"line\">          <span class=\"keyword\">break</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加catch方法</span></span><br><span class=\"line\">  <span class=\"keyword\">catch</span> (onRejected) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.then(<span class=\"literal\">undefined</span>, onRejected)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加静态resolve方法</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> resolve (value) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 如果参数是MyPromise实例，直接返回这个实例</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (value <span class=\"keyword\">instanceof</span> MyPromise) <span class=\"keyword\">return</span> value</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> MyPromise(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> resolve(value))</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加静态reject方法</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> reject (value) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> MyPromise(<span class=\"function\">(<span class=\"params\">resolve ,reject</span>) =&gt;</span> reject(value))</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加静态all方法</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> all (list) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> MyPromise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">       * 返回值的集合</span></span><br><span class=\"line\"><span class=\"comment\">       */</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> values = []</span><br><span class=\"line\">      <span class=\"keyword\">let</span> count = <span class=\"number\">0</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> [i, p] <span class=\"keyword\">of</span> list.entries()) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 数组参数如果不是MyPromise实例，先调用MyPromise.resolve</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.resolve(p).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">          values[i] = res</span><br><span class=\"line\">          count++</span><br><span class=\"line\">          <span class=\"comment\">// 所有状态都变成fulfilled时返回的MyPromise状态就变成fulfilled</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (count === list.length) resolve(values)</span><br><span class=\"line\">        &#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">// 有一个被rejected时返回的MyPromise状态就变成rejected</span></span><br><span class=\"line\">          reject(err)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加静态race方法</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> race (list) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> MyPromise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> p <span class=\"keyword\">of</span> list) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 只要有一个实例率先改变状态，新的MyPromise的状态就跟着改变</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.resolve(p).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">          resolve(res)</span><br><span class=\"line\">        &#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">          reject(err)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">finally</span> (cb) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.then(</span><br><span class=\"line\">      value  =&gt; MyPromise.resolve(cb()).then(<span class=\"function\">() =&gt;</span> value),</span><br><span class=\"line\">      reason =&gt; MyPromise.resolve(cb()).then(<span class=\"function\">() =&gt;</span> &#123; <span class=\"keyword\">throw</span> reason &#125;)</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>若想系统学习Promise可以阅读：<a href=\"https://es6.ruanyifeng.com/#docs/promise\">阮一峰大神写的Promise对象</a>，此篇记录常用用法。</p>\n</blockquote>\n<h2 id=\"Promise顺序请求\"><a href=\"#Promise顺序请求\" class=\"headerlink\" title=\"Promise顺序请求\"></a>Promise顺序请求</h2><blockquote>\n<p>方法1——连续使用then链式调用<br>方法2——使用promise构建队列<br>方法3——使用async、await实现类似同步编程，async函数内部实现同步<br>参考：<a href=\"https://www.jianshu.com/p/dbda3053da20\">https://www.jianshu.com/p/dbda3053da20</a></p>\n</blockquote>\n<h3 id=\"方法1：链式调用\"><a href=\"#方法1：链式调用\" class=\"headerlink\" title=\"方法1：链式调用\"></a>方法1：链式调用</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getA</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>  <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)</span>&#123; </span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;     </span><br><span class=\"line\">          resolve(<span class=\"number\">2</span>);</span><br><span class=\"line\">      &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getB</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>  <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)</span>&#123;       </span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">            resolve(<span class=\"number\">3</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addAB</span>(<span class=\"params\">a,b</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a+b</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getResult</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span>  obj=&#123;&#125;;</span><br><span class=\"line\">    <span class=\"built_in\">Promise</span>.resolve().then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>  getA() </span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">a</span>)</span>&#123;</span><br><span class=\"line\">         obj.a=a;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> getB() </span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">b</span>)</span>&#123;</span><br><span class=\"line\">         obj.b=b;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> obj;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">obj</span>)</span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">return</span>  addAB(obj[<span class=\"string\">&#x27;a&#x27;</span>],obj[<span class=\"string\">&#x27;b&#x27;</span>])</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"params\">data</span>=&gt;</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(data)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .catch(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> <span class=\"built_in\">console</span>.log(e));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">getResult();</span><br></pre></td></tr></table></figure>\n<h3 id=\"方法2：（待补充）\"><a href=\"#方法2：（待补充）\" class=\"headerlink\" title=\"方法2：（待补充）\"></a>方法2：（待补充）</h3><h3 id=\"方法3：（待补充）\"><a href=\"#方法3：（待补充）\" class=\"headerlink\" title=\"方法3：（待补充）\"></a>方法3：（待补充）</h3><h2 id=\"Promise并行请求\"><a href=\"#Promise并行请求\" class=\"headerlink\" title=\"Promise并行请求\"></a>Promise并行请求</h2><blockquote>\n<p>getA和getB并行执行，然后输出结果。如果有一个错误，就抛出错误<br>每一个promise都必须返回resolve结果才正确<br>  每一个promise都不处理错误<br>  参考：<a href=\"https://www.jianshu.com/p/dbda3053da20\">https://www.jianshu.com/p/dbda3053da20</a></p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 每一个promise都必须返回resolve结果才正确</span></span><br><span class=\"line\"><span class=\"comment\"> * 每一个promise都不处理错误</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> getA = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">   <span class=\"comment\">//模拟异步任务</span></span><br><span class=\"line\">   <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">     resolve(<span class=\"number\">2</span>);</span><br><span class=\"line\">   &#125;, <span class=\"number\">1000</span>) </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> result)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> getB = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">   <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">     <span class=\"comment\">// resolve(3);</span></span><br><span class=\"line\">     reject(<span class=\"string\">&#x27;Error in getB&#x27;</span>);</span><br><span class=\"line\">   &#125;, <span class=\"number\">1000</span>) </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> result)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.all([getA, getB]).then(<span class=\"function\"><span class=\"params\">data</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(data)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.catch(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> <span class=\"built_in\">console</span>.log(e));</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>getA和getB并行执行，然后输出结果。总是返回resolve结果<br>每一个promise自己处理错误</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 每一个promise自己处理错误</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> getA = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">   <span class=\"comment\">//模拟异步任务</span></span><br><span class=\"line\">   <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">     resolve(<span class=\"number\">2</span>);</span><br><span class=\"line\">   &#125;, <span class=\"number\">1000</span>) </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> result)</span><br><span class=\"line\">.catch(<span class=\"function\"><span class=\"params\">e</span>=&gt;</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> getB = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">   <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">     <span class=\"comment\">// resolve(3);</span></span><br><span class=\"line\">     reject(<span class=\"string\">&#x27;Error in getB&#x27;</span>);</span><br><span class=\"line\">   &#125;, <span class=\"number\">1000</span>) </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> result)</span><br><span class=\"line\">.catch(<span class=\"function\"><span class=\"params\">e</span>=&gt;</span>e)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.all([getA, getB]).then(<span class=\"function\"><span class=\"params\">data</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(data)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.catch(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> <span class=\"built_in\">console</span>.log(e));</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>Promise.all传入同一个方法不同参数的封装<br>应用场景 比如你需要同时发起多页请求,需要传入页码但是方法都是一样的此时我们就可以进行封装一下,很实用的一个技巧<br>参考：<a href=\"https://blog.csdn.net/qq_25842063/article/details/84284911\">https://blog.csdn.net/qq_25842063/article/details/84284911</a></p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> tasks = [];</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt;= <span class=\"number\">5</span>; i++) &#123;</span><br><span class=\"line\">    tasks.push(i);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">* @params : func:你封装的方法 params: 参数的数组</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> getDataBind = <span class=\"function\">(<span class=\"params\">func, params</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> params.map( <span class=\"function\"><span class=\"params\">item</span> =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> func.call(<span class=\"literal\">null</span>, item) <span class=\"comment\">//传参</span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> @params : page_no 页码  </span></span><br><span class=\"line\"><span class=\"comment\"> getDate 可以换成你自己需要重复操作的方法,同理</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> getData = <span class=\"function\">(<span class=\"params\">page_no</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> saveListData = <span class=\"built_in\">JSON</span>.parse(<span class=\"built_in\">localStorage</span>.getItem(<span class=\"built_in\">this</span>.props.saveListData));</span><br><span class=\"line\">        <span class=\"keyword\">let</span> params = &#123;</span><br><span class=\"line\">            page_no:page_no,</span><br><span class=\"line\">            ...saveListData.loadParams</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> &#123;</span><br><span class=\"line\">            get(<span class=\"built_in\">this</span>.props.sortUrl, params, <span class=\"built_in\">this</span>, <span class=\"literal\">false</span>).then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>) </span>&#123;</span><br><span class=\"line\">                resolve(data.result;);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\"> <span class=\"built_in\">Promise</span>.all(<span class=\"built_in\">this</span>.getDataBind(<span class=\"built_in\">this</span>.getData, arrPage))</span><br><span class=\"line\">\t.then( <span class=\"function\"><span class=\"params\">resultArr</span>  =&gt;</span> &#123;</span><br><span class=\"line\">\t\t    resultArr = resultArr.flat();<span class=\"comment\">//拉平数组</span></span><br><span class=\"line\">\t\t    <span class=\"built_in\">console</span>.log(resultArr)    <span class=\"comment\">//这里就获取到所有页的数据了</span></span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Promise-核心源码\"><a href=\"#Promise-核心源码\" class=\"headerlink\" title=\"Promise 核心源码\"></a>Promise 核心源码</h2><blockquote>\n<p>参考：<a href=\"https://www.jianshu.com/p/43de678e918a\">https://www.jianshu.com/p/43de678e918a</a></p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 判断变量否为function</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> isFunction = <span class=\"function\"><span class=\"params\">variable</span> =&gt;</span> <span class=\"keyword\">typeof</span> variable === <span class=\"string\">&#x27;function&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">// 定义Promise的三种状态常量</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> PENDING = <span class=\"string\">&#x27;PENDING&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> FULFILLED = <span class=\"string\">&#x27;FULFILLED&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> REJECTED = <span class=\"string\">&#x27;REJECTED&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyPromise</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"title\">constructor</span> (<span class=\"params\">handle</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!isFunction(handle)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">&#x27;MyPromise must accept a function as a parameter&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 添加状态</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>._status = PENDING</span><br><span class=\"line\">    <span class=\"comment\">// 添加状态</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>._value = <span class=\"literal\">undefined</span></span><br><span class=\"line\">    <span class=\"comment\">// 添加成功回调函数队列</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>._fulfilledQueues = []</span><br><span class=\"line\">    <span class=\"comment\">// 添加失败回调函数队列</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>._rejectedQueues = []</span><br><span class=\"line\">    <span class=\"comment\">// 执行handle</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      handle(<span class=\"built_in\">this</span>._resolve.bind(<span class=\"built_in\">this</span>), <span class=\"built_in\">this</span>._reject.bind(<span class=\"built_in\">this</span>)) </span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>._reject(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加resovle时执行的函数</span></span><br><span class=\"line\">  _resolve (val) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> run = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>._status !== PENDING) <span class=\"keyword\">return</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>._status = FULFILLED</span><br><span class=\"line\">      <span class=\"comment\">// 依次执行成功队列中的函数，并清空队列</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> runFulfilled = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> cb;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (cb = <span class=\"built_in\">this</span>._fulfilledQueues.shift()) &#123;</span><br><span class=\"line\">          cb(value)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// 依次执行失败队列中的函数，并清空队列</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> runRejected = <span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> cb;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (cb = <span class=\"built_in\">this</span>._rejectedQueues.shift()) &#123;</span><br><span class=\"line\">          cb(error)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">/* 如果resolve的参数为Promise对象，则必须等待该Promise对象状态改变后,</span></span><br><span class=\"line\"><span class=\"comment\">        当前Promsie的状态才会改变，且状态取决于参数Promsie对象的状态</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (val <span class=\"keyword\">instanceof</span> MyPromise) &#123;</span><br><span class=\"line\">        val.then(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"built_in\">this</span>._value = value</span><br><span class=\"line\">          runFulfilled(value)</span><br><span class=\"line\">        &#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"built_in\">this</span>._value = err</span><br><span class=\"line\">          runRejected(err)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>._value = val</span><br><span class=\"line\">        runFulfilled(val)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 为了支持同步的Promise，这里采用异步调用</span></span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(run, <span class=\"number\">0</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加reject时执行的函数</span></span><br><span class=\"line\">  _reject (err) &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>._status !== PENDING) <span class=\"keyword\">return</span></span><br><span class=\"line\">    <span class=\"comment\">// 依次执行失败队列中的函数，并清空队列</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> run = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>._status = REJECTED</span><br><span class=\"line\">      <span class=\"built_in\">this</span>._value = err</span><br><span class=\"line\">      <span class=\"keyword\">let</span> cb;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (cb = <span class=\"built_in\">this</span>._rejectedQueues.shift()) &#123;</span><br><span class=\"line\">        cb(err)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 为了支持同步的Promise，这里采用异步调用</span></span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(run, <span class=\"number\">0</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加then方法</span></span><br><span class=\"line\">  then (onFulfilled, onRejected) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; _value, _status &#125; = <span class=\"built_in\">this</span></span><br><span class=\"line\">    <span class=\"comment\">// 返回一个新的Promise对象</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> MyPromise(<span class=\"function\">(<span class=\"params\">onFulfilledNext, onRejectedNext</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 封装一个成功时执行的函数</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> fulfilled = <span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (!isFunction(onFulfilled)) &#123;</span><br><span class=\"line\">            onFulfilledNext(value)</span><br><span class=\"line\">          &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> res =  onFulfilled(value);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (res <span class=\"keyword\">instanceof</span> MyPromise) &#123;</span><br><span class=\"line\">              <span class=\"comment\">// 如果当前回调函数返回MyPromise对象，必须等待其状态改变后在执行下一个回调</span></span><br><span class=\"line\">              res.then(onFulfilledNext, onRejectedNext)</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">              <span class=\"comment\">//否则会将返回结果直接作为参数，传入下一个then的回调函数，并立即执行下一个then的回调函数</span></span><br><span class=\"line\">              onFulfilledNext(res)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// 如果函数执行出错，新的Promise对象的状态为失败</span></span><br><span class=\"line\">          onRejectedNext(err)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// 封装一个失败时执行的函数</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> rejected = <span class=\"function\"><span class=\"params\">error</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (!isFunction(onRejected)) &#123;</span><br><span class=\"line\">            onRejectedNext(error)</span><br><span class=\"line\">          &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">              <span class=\"keyword\">let</span> res = onRejected(error);</span><br><span class=\"line\">              <span class=\"keyword\">if</span> (res <span class=\"keyword\">instanceof</span> MyPromise) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果当前回调函数返回MyPromise对象，必须等待其状态改变后在执行下一个回调</span></span><br><span class=\"line\">                res.then(onFulfilledNext, onRejectedNext)</span><br><span class=\"line\">              &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">//否则会将返回结果直接作为参数，传入下一个then的回调函数，并立即执行下一个then的回调函数</span></span><br><span class=\"line\">                onFulfilledNext(res)</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// 如果函数执行出错，新的Promise对象的状态为失败</span></span><br><span class=\"line\">          onRejectedNext(err)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">switch</span> (_status) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 当状态为pending时，将then方法回调函数加入执行队列等待执行</span></span><br><span class=\"line\">        <span class=\"keyword\">case</span> PENDING:</span><br><span class=\"line\">          <span class=\"built_in\">this</span>._fulfilledQueues.push(fulfilled)</span><br><span class=\"line\">          <span class=\"built_in\">this</span>._rejectedQueues.push(rejected)</span><br><span class=\"line\">          <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"comment\">// 当状态已经改变时，立即执行对应的回调函数</span></span><br><span class=\"line\">        <span class=\"keyword\">case</span> FULFILLED:</span><br><span class=\"line\">          fulfilled(_value)</span><br><span class=\"line\">          <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">case</span> REJECTED:</span><br><span class=\"line\">          rejected(_value)</span><br><span class=\"line\">          <span class=\"keyword\">break</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加catch方法</span></span><br><span class=\"line\">  <span class=\"keyword\">catch</span> (onRejected) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.then(<span class=\"literal\">undefined</span>, onRejected)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加静态resolve方法</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> resolve (value) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 如果参数是MyPromise实例，直接返回这个实例</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (value <span class=\"keyword\">instanceof</span> MyPromise) <span class=\"keyword\">return</span> value</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> MyPromise(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> resolve(value))</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加静态reject方法</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> reject (value) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> MyPromise(<span class=\"function\">(<span class=\"params\">resolve ,reject</span>) =&gt;</span> reject(value))</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加静态all方法</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> all (list) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> MyPromise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">       * 返回值的集合</span></span><br><span class=\"line\"><span class=\"comment\">       */</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> values = []</span><br><span class=\"line\">      <span class=\"keyword\">let</span> count = <span class=\"number\">0</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> [i, p] <span class=\"keyword\">of</span> list.entries()) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 数组参数如果不是MyPromise实例，先调用MyPromise.resolve</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.resolve(p).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">          values[i] = res</span><br><span class=\"line\">          count++</span><br><span class=\"line\">          <span class=\"comment\">// 所有状态都变成fulfilled时返回的MyPromise状态就变成fulfilled</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (count === list.length) resolve(values)</span><br><span class=\"line\">        &#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">// 有一个被rejected时返回的MyPromise状态就变成rejected</span></span><br><span class=\"line\">          reject(err)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 添加静态race方法</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> race (list) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> MyPromise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> p <span class=\"keyword\">of</span> list) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 只要有一个实例率先改变状态，新的MyPromise的状态就跟着改变</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.resolve(p).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">          resolve(res)</span><br><span class=\"line\">        &#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">          reject(err)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">finally</span> (cb) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.then(</span><br><span class=\"line\">      value  =&gt; MyPromise.resolve(cb()).then(<span class=\"function\">() =&gt;</span> value),</span><br><span class=\"line\">      reason =&gt; MyPromise.resolve(cb()).then(<span class=\"function\">() =&gt;</span> &#123; <span class=\"keyword\">throw</span> reason &#125;)</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n"},{"title":"Hello World, lhp!","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World, lhp!\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","slug":"hello-world","published":1,"date":"2021-02-25T03:25:38.098Z","updated":"2021-02-25T03:25:38.098Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cklkb1drx00013kop1sgedd19","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[],"Tag":[]}}